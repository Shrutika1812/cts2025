<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quiz Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar">
  <h4 class="logo">Welcome to Quiz Portal</h4>
  <div>
    <button class="btn btn-main me-2" id="btnSignIn">Sign In</button>
    <button class="btn btn-main" id="btnSignUp">Sign Up</button>
  </div>
</nav>

<!-- DASHBOARD -->
<section id="dashboard" class="container hero">
  <div class="row align-items-center">
    <div class="col-md-6">
      <h1 class="title">Learn..Practice..Improve</h1>
      <p>Check your HTML, CSS, Bootstrap and jQuery knowledge.</p>
      <button class="btn btn-main btn-lg" id="startQuiz">Start Quiz</button>
    </div>
    <div class="col-md-6 text-center">
      <img src="quiz.jpg" class="img-fluid" width="320">
    </div>
  </div>
</section>

<!-- SIGN IN -->
<section id="signin" class="container hide">
  <div class="auth-box">
    <h3>Sign In</h3>
    <input class="form-control mb-3" placeholder="Username">
    <input type="password" class="form-control mb-3" placeholder="Password">
    <button class="btn btn-main w-100" id="login">Login</button>
    <p class="text-center mt-3">
      New user? <a href="#" id="goSignup">Create account</a>
    </p>
  </div>
</section>

<!-- SIGN UP -->
<section id="signup" class="container hide">
  <div class="auth-box">
    <h3>Sign Up</h3>
    <input class="form-control mb-3" placeholder="Username">
    <input class="form-control mb-3" placeholder="Email">
    <input type="password" class="form-control mb-3" placeholder="Password">
    <button class="btn btn-main w-100" id="register">Register</button>
    <p class="text-center mt-3">
      Already registered? <a href="#" id="goSignin">Sign In</a>
    </p>
  </div>
</section>

<!-- QUIZ -->
<section id="quiz" class="container hide">
  <div class="quiz-box">

    <div class="d-flex justify-content-between mb-3">
      <h5>Quiz Test</h5>
      <span>Time: <b id="time">60</b>s</span>
    </div>

    <div class="progress progress-lg mb-4">
      <div class="progress-bar bg-warning" id="progressBar">20%</div>
    </div>

    <div id="questionBox"></div>

    <button class="btn btn-main mt-3" id="next">Next</button>
  </div>
</section>

<!-- RESULT -->
<section id="result" class="container hide">
  <div class="result-box text-center">
    <h2>Your Score</h2>
    <h1 id="finalScore"></h1>
    <button class="btn btn-main" id="reviewBtn">Review Answers</button>
  </div>
</section>

<!-- REVIEW -->
<section id="review" class="container hide">
  <div class="quiz-box">
    <h3>Review</h3>
    <div id="reviewContent"></div>
    <button class="btn btn-main mt-3" onclick="location.reload()">Finish</button>
  </div>
</section>

<script>
const questions = [
  { q: "HTML stands for?", options: ["Hyper Text Markup Language","High Text Machine Language","Hyperlinks Text Mark Language","Home Tool Markup Language"], correct: 0 },
  { q: "Which is a JavaScript library?", options: ["HTML","CSS","jQuery","Bootstrap"], correct: 2 },
  { q: "Bootstrap is used for?", options: ["Database","Responsive Design","Security","Backend"], correct: 1 },
  { q: "jQuery simplifies?", options: ["DOM Manipulation","Database","Compiler","Server Logic"], correct: 0 },
  { q: "CSS is used for?", options: ["Styling","Programming","Networking","Database"], correct: 0 }
];

let index = 0, score = 0, answers = [], time = 60, timer;

function hideAll(){ $("#dashboard, #signin, #signup, #quiz, #result, #review").hide(); }

function showQuestion(){
  let q = questions[index];
  let html = `<p><b>${index+1}. ${q.q}</b></p>`;
  q.options.forEach((op,i)=>{
    html += `<label class="option"><input type="radio" name="opt" value="${i}"> ${op}</label>`;
  });
  $("#questionBox").html(html);
}

function updateProgress(){
  let percent = ((index+1)/questions.length)*100;
  $("#progressBar").css("width",percent+"%").text(percent+"%");
}

$("#next").click(()=>{
  let sel = $("input[name='opt']:checked").val();
  if(sel === undefined){ alert("Please select an option"); return; }
  answers.push(parseInt(sel));
  if(sel == questions[index].correct) score++;
  index++;
  if(index < questions.length){ showQuestion(); updateProgress(); }
  else finishQuiz();
});

function finishQuiz(){
  clearInterval(timer);
  hideAll();
  $("#result").show();
  $("#finalScore").text(score + " / " + questions.length);
}

$("#reviewBtn").click(()=>{
  hideAll();
  $("#review").show();
  questions.forEach((q,i)=>{
    let user = answers[i], correct = q.correct;
    let html = `<p><b>${i+1}. ${q.q}</b><br>
      Your Answer: <span class="${user==correct?'correct':'wrong'}">${q.options[user]}</span><br>`;
    if(user != correct){ html += `Correct Answer: <span class="correct">${q.options[correct]}</span>`; }
    html += "</p><hr>";
    $("#reviewContent").append(html);
  });
});

/* NAVIGATION */
$("#btnSignIn,#startQuiz").click(()=>{ hideAll(); $("#signin").show(); });
$("#btnSignUp,#goSignup").click(()=>{ hideAll(); $("#signup").show(); });
$("#goSignin").click(()=>{ hideAll(); $("#signin").show(); });
$("#login,#register").click(()=>{
  hideAll();
  $("#quiz").show();
  showQuestion();
  updateProgress();
  timer = setInterval(()=>{ $("#time").text(--time); if(time===0) finishQuiz(); },1000);
});
</script>

</body>
</html>
